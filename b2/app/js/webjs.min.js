/*! webjs 23-03-2016 */
!function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}var b=document.getElementById("start"),c=document.getElementById("reset"),d=document.getElementById("count"),e=document.getElementById("bunum"),f=function(a,b){this.x=a,this.y=b},g=[],h=0,i=0,j={x:0,y:0,move:function(a){i+=1;var b=!1;if(37==a&&j.x>0&&(j.x-=1,b=!0),38==a&&j.y>0&&(j.y-=1,b=!0),40==a&&j.y<9&&(j.y+=1,b=!0),39==a&&j.x<9&&(j.x+=1,b=!0),b){for(var c=0;c<g.length;c++)j.x===g[c].x&&j.y===g[c].y&&(h+=1,g.remove(c));n(),0==g.length&&alert("恭喜您胜利了")}}},k=function(){h=0,j.x=0,j.y=0,i=0,g=[];for(var a=0;g.length<10;a++){var b=parseInt(10*Math.random()),c=parseInt(10*Math.random());(function(){var a=!1;if(0!=g.length)for(var d=0;d<g.length;d++)if(g[d].x===b&&g[d].y===c||j.x===b&&j.y===c){a=!0;break}return a})()||g.push(new f(b,c))}},l=document.getElementById("myCanvas"),m=l.getContext("2d"),n=function(){m.fillStyle="#2196F3";for(var a=0;10>a;a++)for(var b=0;10>b;b++)m.fillRect(42*b,42*a,40,40);if(m.fillStyle="green",0!=g.length)for(var a=0;a<g.length;a++)m.fillRect(42*g[a].x,42*g[a].y,40,40);m.fillStyle="#9C27B0",m.fillRect(42*j.x,42*j.y,40,40),d.innerHTML=h,e.innerHTML=i};k(),n(),document.onkeydown=function(a){j.move(a.keyCode),a.stopPropagation(),a.preventDefault()},a(b,"click",function(a){a.stopPropagation(),k(),n()}),a(c,"click",function(a){a.stopPropagation(),k(),n()}),Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)}}();